import{s as A}from"./Modal-BJ6_-96J.js";import{s as b}from"./api-DOepU4-1.js";const v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAABKCAYAAAC8Y2jaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA86SURBVHgB7Z1fets2EsBnILd2nuqeYOFcIO4JIm23rdKXdU9Q5wRxThDlBHFOEOcEVl6auN18Uk4Q9wIJc4LVvuw638ZEZwDKFkFKokiApCD9vi+xRUsi8WcwgwEwg7AlF/n2wQkKeAKgJgrgLOq9eQoNIEfdfYC9Rwh4op8lVs+j7y9OYctGg7Alg3zbPyahfWFdjkiAeyTAEdSE/KPfxR39HHL2evIcY9iysQjYkgMe5lyUNMp9lG9/OoEa0Bp/B0ZgCa0mhi5s2Wh2YEsGRCXn/k3gMznq3wO4ehz1xhNwTGIanyOo7tw3CfgbbNlotoKbg0L4ZtEcgv52TMLVJQFOmc5a6P7/lQSBkiR8H/K0JZncpDEjUNeT6Mc/Lmf/IEc/HyLE53M+d3t/pb6FLRvNVnBzQAUHBWb/iencf8oakH7v8jX4CpajJygdOBj1ab6qSHiRBTgioR0U+DQPLFuNWwI9sH7ZO6T6l/MGz0ae63Wf+k18qAd7fq4diJb5UuZ2T13I+M4xiPg+JnM+6mRkGuIEYnwFQg1rddTo59k7okq/T09Cmgn3zTOxBlN/0jMNox/cOGxIoBS0GjX52LtwonXZAUYd5T4YLc+Dkbz9K9ex2rc+EkFJ1PSz3F4guN0uXbXZPKZeeSrLEU0/8nwX7HQc08+n9fZnElaAX5PVgn3If64z+vky77kw+4Vc0DtPqJBLnTDJF3sv8MzSzP6St3JhH1bxuHKFsiaFlqPg6tsqc2w2y0mCniWWQqNowYnhJQ3KY5d9Sf7rxyPsdF4U6DfJc6jTqHfxGDyzQn9morwlwJTgFp1jZb4YYnLU/D4Ex9w6albrXNQRBmXXXZMlmBG0HCrjQdlObjqOegYtRAvxdfw8+ke1/kQDMCkfGMDKqEsFn3s+HI/M3VH/hdI+ktWwB5Wb5SAjtCp/+WExpKHEuXzX/xUcwkKLsPe+jEbgBuOGgzIgFhqdW4CEEugO3VKhZbi9sSPOabrC/oNjKEF5odVPQHKw62XglqMHz8oILcMmtRz9dNNuwnwhm4esaVXpTouxOk3sdieg2mPTQEJJtPCWWXPF8veslXj159TWROkOXTuSN8FQZz1fpV8lU50BVAIPadAYgEP0pp4C089FGOElnwQkgkte1AFA1Q6LpCEzu41KoUdahMoanOcRxtxe4TOY68BoH0LdgxVJdmGtFWicSu9XGISdlLFM35mHHkz0nLY6UxkTejRzICQJ3emIUAVXhdRe0XivUINzI/H8w2FdeMU2nZaRmJ0S1hJSCnrjy+LyJtq2C64o2HeWf0+yVOgGyTIm6EuPwSWxOoIK6OUJhx2M5nOPlr3HNPjuqOz8oylYeGkuOCqkGcR6DEiLMOX96f1c09lxX0ZXdea+7n8VZl3UHTQy/hOqINCxqYr7i+ZIySg9mrM/eR3o8qCzSHjl6Gi/Dcs+bmDnEYxc+lMWIF2Yy+i4b3FbCnTfYasV1sccc86m/FuhXVcTcorxhM6t9y9X6zoozYPaTZ3b5Y2+fzMAs5nCIV9JqAAPmlWcvvO+Vnj4UmKvguDWs53PLDeFILRT8FDAXmuXedzD5d3NOKJ4A47e3eeMTkX5uPKyvLgZx/rE9WXmEtzJnHNdd3iOnrt+vSO8bCZoGkUeZ7u8vCmFBuRGgh7USfCCa6JX2Kdw+k8UVHOitZVk80l39lrU++0SY3wOAZJX3g+917wHYAwBE7rgRmCNvm4W6NtN3vwvFrsDtyZke+C1Tbu8KnCtG7TgqpwDEMm8NnBw357/Rb2hjlcFYSLtNdfkoMkYAiVkweUzjWezF5L5kIQNIJn/dWevJV7XCALE7HRKLxGFrHWDFVy1gSayTd4WVBXoXDfBdlSNIVCtG6rgZrRtsh9705CZEzZi9yzgue7xpmjdIAVX8aHsGRzvx14r7H3fgc91M9sejdYNb6AKU+MKHZljBly6X9k91FkUvFIKXk7/0et3DXQimTn4kamfcOC96RkPszWQh0B4weJIOKK/257kutZscUL3eh7rtePX0bx3cdACAfERmXFsBUjw/VRm7jeevmZP+8Goz6+7EBxoYpPBzOAk1JD+b2Dw9kdwgqswrU1cnzbKhwU2fvqh9+a0yLt5QwT94H+Du6P+QGmLwMfW0xv4uKWcXRojJ9Ur0k5dKA2nZsFfZi5E6b9zeNp43wScA4mK7oXAZ4gleCY51XM2fc3m8sHowcRzHdeKF8EVMS1FvO2XNAl1ZEGowDj1bR3fR/U4RhH88rF3EUEJSNh558+Z933TZu43uHlttFCFvc04WTEonx7U2GwnR+GxZ59Dl83l2bhRSqlXGJCfw4vgKqGeLQ9LPPfTUBaOURzZAoRujy1ad3QSWIw1IQdX9yq8QvFxy8HsPZvQQtMlGirvwO9g9XWX/hvevFQ0oAckuIE5pzCTGQD8abGITUVX0QBZkDiZly/nFR/fzDhtSAtBQ9yW19OGkBi7qdcirPXc0LzK71Kv4tjbOdQkfnMEDkk680PwhXHa3KLwEhrEa3mtABGmrcJZFgpMcO3je36iWiT5csfgAfJGs3k3Bi9YQQpU89sfdT0q98s1eRYGBLTdMyjBtY/vlYmEWIxrrxsYvO32scMUdVSjGneKvRLgjnT0Cpoa/AmBEJLgRvYFnbzLMcYB5jdRlK/dPmjN9+vMlbOIROt+AtfEndZZGK4IR3DzGt5HGJzYmkd7wo/jiAPnWeajD4EpgVI4BOeoram8bpggXR4Qagx1oHzNc614YIj/hlbgxWyX6VtsnVOtg+ZJH9NX/ATpojtFUAexL+1wbUWKUO3ozD6ESuA36Xu0pKwO2IxgcU7p1NP4O74Et+NpQKtIByPwTUBB87aCu2WDiLeCu8UzX3zt+LpuZ+f9EgdzAKAOghVcj0sdEurAW57eTjsFt468xF9qarsaCEZw89dsPTg84prScHpK95mJeulhrbsUXlLPqP9AoISjcfPXbCNwfZuqSc2KInycasrxqqLleW0KL+W1Bu46tHpNBGQqZ4+n+dnipg5dJTyeh/M8r1MU/pm+j5eEVCvjrbz2wI1bU7mF5KTT9HL6pXiy7NJ38BSRkgaydH20JYtf7CmEjshYXBICITDnlHWMT/jZRJ8XkMwVJiKlJ3Pc3vUlmu/IOmuiFYnSHVep9kdUElalqk/Dk0MsLMGNhVXJe54OA/BcaddLZzPa1pf5Kmo59rgad3xll4gyQQ4QV967XtWn4Sl0UhSU4GLm8PSQG24MHkDAk9yUlhXQ3+cpvIo51WR5lIXPsD7L4fIiKD/TDsu/kcznywxU3bLt7K09FXzyE+VRAVdauaUYxHvlNY5xHKWChMXwjjpoFzyQpHjkJZbK52dNJ/aYbcE61WQ6cjNz3MQX8cKTQ0qj7EMaPJ8v2dvLtLPf9lQTP8HiEI7KboCgAo/KNyibsHvcGcc3l0zwb09zqJtGlZCTGbAIPNBwkm3v+XpFfJZ6ff25Cx2oDfma6uhrPOKgdT4F9gYRj9Ov6d4VAhFyOx+M+sfqCzyMfpgf/USHA96BJ74HpfACosdaAMbTl3UE/+acNfz98m3/KQclKyLAxrm194hNbuV5SSbv8D852CoOFIq9+HkpS6Pkp9T30T8xWXaqFHZ3FaJseZ1MCyTuwIj6U6RiPi8totu1cXWYzIcl+EbgZXCCmwTDTs2bqgf/LoSke7/Qv/BAwaapii9BiQl5FiPoXO9ThZPHuCPTWqeOzpyToU97rqvcG/eLa5XaBNbcLU4HITAWkdOdWdTWOoj9zKXyAYlXhBPaBahxzXpuNxXMTWeo+/ykrs0GukPreXXi+9O1PLVL6+3EkJcnWGfwCyeqfwaBp6nXsW6PIFCJNRnkIQOEDctQtwAyk7PlFgFnLuTcUfZUJazy6oiYoZ4O6mYz1O2dhhRXtyCkbS9S2sfj9sJWoDAOubzR1JIM+TxuapTdRK2bF+Y18ATf1LF/H85eCKm8s+0ZrOCa7OQ/WFsgWeuGE+lvCdm5beAJvhXEj2dfB1beVHsGHQEDoZPKRqe1rs8UHy0iyctjgRWy87Ubk10iZG2bHpRCD12TmevyHAFjDNpkxpzNIOxJri/Bd91o30VmWqACCYCeNygFH3OKOvEL+yRPLHYHEKjJjIBDzrk7e007aIS/3WNNw0nF8za9RN9zPTSb2MwBEeQMSpsQLE7aWeoSk9lbSssGiWJQjzNXzdEyCQFCVsTzD5bnfBZaDvtlnduZ+2neoORJcK/KV1RNKTFMikdu1GCI5jVyuKjLGD4PFr3DtDP2YA2hQenxvPYU7gVFTSole/YS0T7fLOb5bhjOKpwsFNqdIKcFhROLR73fLtetndlPsciSEMr1eVUrrlGJL/AwJ7ma+53sYl9v4WWhxYWaNrSkzlDCulindjZCm/ZT2AhwnJu0cq5TsTd02sn0FrjFo/IaCy+b+9+xRln2RhW7Tx7dDOqy7JTAtLP4DlrrmNSW08NlQsuIZAtVBG6IoKIGd73DqehA0v5GtVmxAws1hDWHHVEKPleaxydmM895I2gXUWI5nRV5s3ZOudI2XLFOnCOO9hWb9a9iFcHMNOoYWgzX88fexXcrmoprvH491UQXJ5X8Jwlcbx97bw4wZ5mlCcyAdFXIcrr9TMLdtw9OlVCPoCRm/fC1My+tHD04ogKdQ3kqeVnvjh6cKH3KqFXH37hMD1NHFleAw9UgXL2HNVoa4sGXfBSPXQhsHskhhBE0Uyel2zN1+re08NI8UuHVkevKpUo95g0UsDpOlkZ0o/K2ucb3u+KER+UYrk6r1nHDHbU4uk/BoOwgtSpJX/MVcdKG++fTVaxBm8yx/VU1TREPWBXk6OdDhJg1ryz0AdPgxy7XM5sUYKNxysWzmofWvOrqtH0b8MkkjuOXIHBYl8DaaEtPqWOqG/exrR0ORrnxNmY66n3IFZibCj6ta8Ffj4gKTuiZ7kHO83A4Tt8j9PJ6cYU7DbuI2/LoMDbNTAkUfFKKHGckrLxs57O8q5AEAOxS/RxR/dwvVz/Tfsll+9+Zy7ItDZTDGg9A5y6VxmGUjc9bJ0mQtUO4ERwO8v3fqO4GT0bmI3dC3Ky2MYcxpkHdvBGZH5wZPp6s0y4vIwdK6swGCBJz2lxx+ZSacDA37perOJtWZangblmOGZ3xkBsVEXhQMQOdzoRnCcLtTrVL0jSRaeRikSG3bJnyF4YeyLomeQgcAAAAAElFTkSuQmCC",p="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.889%2028.4444C13.6254%2028.4444%2014.2223%2027.8475%2014.2223%2027.1111C14.2223%2026.3747%2013.6254%2025.7778%2012.889%2025.7778C12.1526%2025.7778%2011.5557%2026.3747%2011.5557%2027.1111C11.5557%2027.8475%2012.1526%2028.4444%2012.889%2028.4444Z'%20fill='black'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.3333%2028.4444C26.0697%2028.4444%2026.6667%2027.8475%2026.6667%2027.1111C26.6667%2026.3747%2026.0697%2025.7778%2025.3333%2025.7778C24.597%2025.7778%2024%2026.3747%2024%2027.1111C24%2027.8475%2024.597%2028.4444%2025.3333%2028.4444Z'%20fill='black'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.66699%202.66669H7.51548L10.764%2018.5359C10.8748%2019.0816%2011.1784%2019.5717%2011.6216%2019.9205C12.0648%2020.2694%2012.6194%2020.4547%2013.1882%2020.444H24.97C25.5389%2020.4547%2026.0934%2020.2694%2026.5366%2019.9205C26.9798%2019.5717%2027.2834%2019.0816%2027.3943%2018.5359L29.3337%208.59247H8.7276'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",h="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M26.6663%2028V25.3333C26.6663%2023.9188%2026.1044%2022.5623%2025.1042%2021.5621C24.104%2020.5619%2022.7475%2020%2021.333%2020H10.6663C9.25185%2020%207.8953%2020.5619%206.8951%2021.5621C5.89491%2022.5623%205.33301%2023.9188%205.33301%2025.3333V28'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.0003%2014.6667C18.9458%2014.6667%2021.3337%2012.2789%2021.3337%209.33333C21.3337%206.38781%2018.9458%204%2016.0003%204C13.0548%204%2010.667%206.38781%2010.667%209.33333C10.667%2012.2789%2013.0548%2014.6667%2016.0003%2014.6667Z'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",C="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%202.66669L4%208.00002V26.6667C4%2027.3739%204.28095%2028.0522%204.78105%2028.5523C5.28115%2029.0524%205.95942%2029.3334%206.66667%2029.3334H25.3333C26.0406%2029.3334%2026.7189%2029.0524%2027.219%2028.5523C27.719%2028.0522%2028%2027.3739%2028%2026.6667V8.00002L24%202.66669H8Z'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%208H28'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M21.3337%2013.3333C21.3337%2014.7478%2020.7718%2016.1044%2019.7716%2017.1045C18.7714%2018.1047%2017.4148%2018.6666%2016.0003%2018.6666C14.5858%2018.6666%2013.2293%2018.1047%2012.2291%2017.1045C11.2289%2016.1044%2010.667%2014.7478%2010.667%2013.3333'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";class H{constructor(a){this.$target=a,this.token=localStorage.getItem("token"),this.userType=localStorage.getItem("userType"),console.log("--------------- Header Debug ---------------"),console.log("1. Explicit window.localStorage.getItem('token'):",window.localStorage.getItem("token")),console.log("2. this.token:",this.token),console.log("3. Keys in localStorage:");for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);console.log(`   - Key: '${t}' (Length: ${t.length}), Code: ${t.charCodeAt(0)}, Value starts with: ${localStorage.getItem(t).substring(0,10)}`)}console.log("üë§ Ïú†Ï†Ä ÏÉÅÌÉú:",this.token?"ÌöåÏõê(ÌÜ†ÌÅ∞ ÏûàÏùå)":"ÎπÑÌöåÏõê(ÌÜ†ÌÅ∞ ÏóÜÏùå)"),setTimeout(()=>{console.log("--- [500ms later] Header Debug ---"),console.log("Late Check Token:",window.localStorage.getItem("token"))},500),console.log("--------------------------------------------"),this.render(),this.setEvent()}template(){const a=`
            <div class="logo">
                <a href="/index.html">
                    <img src="${v}" alt="HODU" class="logo-img">
                </a>
            </div>
        `,e=this.userType==="SELLER"?"":`
            <div class="search-container">
                <input type="text" class="search-input" placeholder="ÏÉÅÌíàÏùÑ Í≤ÄÏÉâÌï¥Î≥¥ÏÑ∏Ïöî!">
                <button class="search-btn"></button>
                <ul id="search-results" class="search-results"></ul>
            </div>
        `;let t="";return this.token?this.userType==="SELLER"?t=`
                <div class="my-page-wrapper">
                    <button id="my-page-btn" class="nav-btn">
                        <img src="${h}" alt="ÎßàÏù¥ÌéòÏù¥ÏßÄ">
                        <span>ÎßàÏù¥ÌéòÏù¥ÏßÄ</span>
                    </button>
                    <div class="my-page-dropdown" id="dropdown-menu">
                        <button class="dropdown-item">ÎßàÏù¥ÌéòÏù¥ÏßÄ</button>
                        <button class="dropdown-item" id="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</button>
                    </div>
                </div>
                <a href="/src/pages/seller-center/index.html" class="btn-seller-center">
                    <img src="${C}" alt="ÏáºÌïëÎ∞±">
                    ÌåêÎß§Ïûê ÏÑºÌÑ∞
                </a>
            `:t=`
                <button id="cart-btn" class="nav-btn">
                    <img src="${p}" alt="Ïû•Î∞îÍµ¨Îãà">
                    <span>Ïû•Î∞îÍµ¨Îãà</span>
                </button>
                <div class="my-page-wrapper">
                    <button id="my-page-btn" class="nav-btn">
                        <img src="${h}" alt="ÎßàÏù¥ÌéòÏù¥ÏßÄ">
                        <span>ÎßàÏù¥ÌéòÏù¥ÏßÄ</span>
                    </button>
                    <div class="my-page-dropdown" id="dropdown-menu">
                        <button class="dropdown-item">ÎßàÏù¥ÌéòÏù¥ÏßÄ</button>
                        <button class="dropdown-item" id="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</button>
                    </div>
                </div>
            `:t=`
                <button id="cart-btn" class="nav-btn">
                    <img src="${p}" alt="Ïû•Î∞îÍµ¨Îãà">
                    <span>Ïû•Î∞îÍµ¨Îãà</span>
                </button>
                <a href="/src/pages/login/index.html" class="nav-btn">
                    <img src="${h}" alt="Î°úÍ∑∏Ïù∏">
                    <span>Î°úÍ∑∏Ïù∏</span>
                </a>
            `,`
            <div class="header-container">
                ${a}
                ${e}
                <div class="nav-items">
                    ${t}
                </div>
            </div>
        `}render(){this.$target.innerHTML=this.template()}async fetchProducts(a){try{return console.log(`üì° Í≤ÄÏÉâÏñ¥: ${a}`),(await b(a)).results||[]}catch(e){return console.error("‚ùå ÎÑ§Ìä∏ÏõåÌÅ¨ ÏóêÎü¨:",e),[]}}setEvent(){const a=this.$target.querySelector("#cart-btn"),e=this.$target.querySelector("#my-page-btn"),t=this.$target.querySelector("#logout-btn"),i=this.$target.querySelector("#dropdown-menu"),l=this.$target.querySelector(".search-input"),u=this.$target.querySelector(".search-btn");let o=this.$target.querySelector("#search-results");if(l){o||(o=document.createElement("ul"),o.id="search-results",o.className="search-results",l.parentElement.appendChild(o));let r,d="",g="",m=!1;l.addEventListener("input",n=>{if(m)return;const s=n.target.value.trim();if(d=s,clearTimeout(r),s===""){o.style.display="none",g="";return}r=setTimeout(async()=>{if(s!==d||s===g)return;g=s;const c=await this.fetchProducts(s);s===d&&(c.length>0?(o.innerHTML=c.slice(0,10).map(w=>`
                        <li class="search-item" data-id="${w.id}">
                            ${w.name}
                        </li>
                    `).join(""),o.style.display="block"):o.style.display="none")},300)}),o.addEventListener("mousedown",n=>{n.preventDefault(),clearTimeout(r),m=!0;const s=n.target.closest(".search-item");if(s){const c="/src/pages/product-detail/index.html";window.location.href=`${c}?productId=${s.dataset.id}`}});const k=()=>{const n=l.value.trim();if(n){const s="/index.html";window.location.href=`${s}?search=${encodeURIComponent(n)}`}};u&&u.addEventListener("click",k),l.addEventListener("keydown",n=>{n.key==="Enter"&&k()}),document.addEventListener("click",n=>{n.target.closest(".search-container")||(o.style.display="none")})}a&&a.addEventListener("click",()=>{const r="/src/pages/cart/index.html";this.token?window.location.href=r:A()}),e&&i&&(e.addEventListener("click",r=>{r.stopPropagation(),i.classList.toggle("active"),e.classList.toggle("active")}),document.addEventListener("click",r=>{r.target.closest(".nav-items")||(i.classList.remove("active"),e.classList.remove("active"))})),t&&t.addEventListener("click",()=>{localStorage.clear(),alert("Î°úÍ∑∏ÏïÑÏõÉ ÎêòÏóàÏäµÎãàÎã§."),window.location.href="/index.html"})}}export{H};
